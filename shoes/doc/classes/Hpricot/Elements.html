<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Hpricot::Elements</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../css/github.css" type="text/css" media="screen" />
<script src="../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>

</head>

<body>     
    <div class="banner">
        
        <h1>
            <span class="type">Class</span> 
            Hpricot::Elements 
            
                <span class="parent">&lt; 
                    
                    <a href="../Array.html">Array</a>
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../files/req/hpricot/lib/hpricot/elements_rb.html">req/hpricot/lib/hpricot/elements.rb</a></li>
            
            <li><a href="../../files/req/hpricot/lib/hpricot/inspect_rb.html">req/hpricot/lib/hpricot/inspect.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Once you’ve matched a list of elements, you will often need to handle them
as a group.  Or you may want to perform the same action on each of them.
Hpricot::Elements is an extension of Ruby’s array class, with some methods
added for altering elements contained in the array.</p>

<p>If you need to create an element array from regular elements:</p>

<pre>Hpricot::Elements[ele1, ele2, ele3]</pre>

<p>Assuming that ele1, ele2 and ele3 contain element objects (Hpricot::Elem,
Hpricot::Doc, etc.)</p>

<h2 id="label-Continuing+Searches">Continuing Searches</h2>

<p>Usually the Hpricot::Elements you’re working on comes from a search you’ve
done.  Well, you can continue searching the list by using the same
<code>at</code> and <code>search</code> methods you can use on plain
elements.</p>

<pre>elements = doc.search(&quot;/div/p&quot;)
elements = elements.search(&quot;/a[@href='http://hoodwink.d/']&quot;)
elements = elements.at(&quot;img&quot;)</pre>

<h2 id="label-Altering+Elements">Altering Elements</h2>

<p>When you’re altering elements in the list, your changes will be reflected
in the document you started searching from.</p>

<pre class="ruby"><span class="ruby-identifier">doc</span> = <span class="ruby-constant">Hpricot</span>(<span class="ruby-string">&quot;That's my &lt;b&gt;spoon&lt;/b&gt;, Tyler.&quot;</span>)
<span class="ruby-identifier">doc</span>.<span class="ruby-identifier">at</span>(<span class="ruby-string">&quot;b&quot;</span>).<span class="ruby-identifier">swap</span>(<span class="ruby-string">&quot;&lt;i&gt;fork&lt;/i&gt;&quot;</span>)
<span class="ruby-identifier">doc</span>.<span class="ruby-identifier">to_html</span>
  <span class="ruby-comment">#=&gt; &quot;That's my &lt;i&gt;fork&lt;/i&gt;, Tyler.&quot;</span>
</pre>

<h2 id="label-Getting+More+Detailed">Getting More Detailed</h2>

<p>If you can’t find a method here that does what you need, you may need to
loop through the elements and find a method in <a
href="Container/Trav.html">Hpricot::Container::Trav</a> which can do what
you need.</p>

<p>For example, you may want to search for all the H3 header tags in a
document and grab all the tags underneath the header, but not inside the
header. A good method for this is <code>next_sibling</code>:</p>

<pre class="ruby"><span class="ruby-identifier">doc</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">&quot;h3&quot;</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">h3</span><span class="ruby-operator">|</span>
  <span class="ruby-keyword">while</span> <span class="ruby-identifier">ele</span> = <span class="ruby-identifier">h3</span>.<span class="ruby-identifier">next_sibling</span>
    <span class="ruby-identifier">ary</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">ele</span>   <span class="ruby-comment"># stuff away all the elements under the h3</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Most of the useful element methods are in the mixins <a
href="Traverse.html">Hpricot::Traverse</a> and <a
href="Container/Trav.html">Hpricot::Container::Trav</a>.</p>

    </div>
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>#</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-25">%</a>,
              </li>
            
              
              <li>
                <a href="#method-i-2F">/</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>A</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-add_class">add_class</a>,
              </li>
            
              
              <li>
                <a href="#method-i-after">after</a>,
              </li>
            
              
              <li>
                <a href="#method-i-append">append</a>,
              </li>
            
              
              <li>
                <a href="#method-i-at">at</a>,
              </li>
            
              
              <li>
                <a href="#method-i-attr">attr</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-before">before</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-empty">empty</a>,
              </li>
            
              
              <li>
                <a href="#method-c-expand">expand</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>F</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-c-filter">filter</a>,
              </li>
            
              
              <li>
                <a href="#method-i-filter">filter</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-html">html</a>,
              </li>
            
              
              <li>
                <a href="#method-i-html-3D">html=</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>I</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-innerHTML">innerHTML</a>,
              </li>
            
              
              <li>
                <a href="#method-i-innerHTML-3D">innerHTML=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-inner_html">inner_html</a>,
              </li>
            
              
              <li>
                <a href="#method-i-inner_html-3D">inner_html=</a>,
              </li>
            
              
              <li>
                <a href="#method-i-inner_text">inner_text</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-not">not</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-prepend">prepend</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>R</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-remove">remove</a>,
              </li>
            
              
              <li>
                <a href="#method-i-remove_attr">remove_attr</a>,
              </li>
            
              
              <li>
                <a href="#method-i-remove_class">remove_class</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>S</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-search">search</a>,
              </li>
            
              
              <li>
                <a href="#method-i-set">set</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-text">text</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_html">to_html</a>,
              </li>
            
              
              <li>
                <a href="#method-i-to_s">to_s</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>W</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-wrap">wrap</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    
      <!-- Section constants -->
      <div class="sectiontitle">Constants</div>
      <table border='0' cellpadding='5'>
        
          <tr valign='top'>
            <td class="attr-name">ATTR_RE</td>
            <td>=</td>
            <td class="attr-value">%r!\[ *(?:(@)([\w\(\)-]+)|([\w\(\)-]+\(\))) *([~\!\|\*$\^=]*) *'?&quot;?([^'&quot;]*)'?&quot;? *\]!i</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">BRACK_RE</td>
            <td>=</td>
            <td class="attr-value">%r!(\[) *([^\]]*) *\]+!i</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">FUNC_RE</td>
            <td>=</td>
            <td class="attr-value">%r!(:)?([a-zA-Z0-9\*_-]*)\( *[\&quot;']?([^ \)]*?)['\&quot;]? *\)!</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">CUST_RE</td>
            <td>=</td>
            <td class="attr-value">%r!(:)([a-zA-Z0-9\*_-]*)()!</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
          <tr valign='top'>
            <td class="attr-name">CATCH_RE</td>
            <td>=</td>
            <td class="attr-value">%r!([:\.#]*)([a-zA-Z0-9\*_-]+)!</td>
          </tr>
          
            <tr valign='top'>
              <td>&nbsp;</td>
              <td colspan="2" class="attr-desc"></td>
            </tr>
          
        
      </table>
    


    


    <!-- Methods -->
    
      <div class="sectiontitle">Class Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-c-expand">
            
              <b>expand</b>(ele1, ele2, excl=false)
            
            <a href="../../classes/Hpricot/Elements.html#method-c-expand" name="method-c-expand" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Given two elements, attempt to gather an Elements array of everything
between (and including) those two elements.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-expand_source')" id="l_method-c-expand_source">show</a>
                
              </p>
              <div id="method-c-expand_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 315</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">expand</span>(<span class="ruby-identifier">ele1</span>, <span class="ruby-identifier">ele2</span>, <span class="ruby-identifier">excl</span>=<span class="ruby-keyword">false</span>)
  <span class="ruby-identifier">ary</span> = []
  <span class="ruby-identifier">offset</span> = <span class="ruby-identifier">excl</span> <span class="ruby-operator">?</span> <span class="ruby-number">-1</span> <span class="ruby-operator">:</span> <span class="ruby-number">0</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">ele1</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">ele2</span>
    <span class="ruby-comment"># let's quickly take care of siblings</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">ele1</span>.<span class="ruby-identifier">parent</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">ele2</span>.<span class="ruby-identifier">parent</span>
      <span class="ruby-identifier">ary</span> = <span class="ruby-identifier">ele1</span>.<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">children</span>[<span class="ruby-identifier">ele1</span>.<span class="ruby-identifier">node_position</span><span class="ruby-operator">..</span>(<span class="ruby-identifier">ele2</span>.<span class="ruby-identifier">node_position</span><span class="ruby-operator">+</span><span class="ruby-identifier">offset</span>)]
    <span class="ruby-keyword">else</span>
      <span class="ruby-comment"># find common parent</span>
      <span class="ruby-identifier">p</span>, <span class="ruby-identifier">ele1_p</span> = <span class="ruby-identifier">ele1</span>, [<span class="ruby-identifier">ele1</span>]
      <span class="ruby-identifier">ele1_p</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-identifier">p</span> <span class="ruby-keyword">while</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:parent</span>) <span class="ruby-keyword">and</span> <span class="ruby-identifier">p</span> = <span class="ruby-identifier">p</span>.<span class="ruby-identifier">parent</span>
      <span class="ruby-identifier">p</span>, <span class="ruby-identifier">ele2_p</span> = <span class="ruby-identifier">ele2</span>, [<span class="ruby-identifier">ele2</span>]
      <span class="ruby-identifier">ele2_p</span>.<span class="ruby-identifier">unshift</span> <span class="ruby-identifier">p</span> <span class="ruby-keyword">while</span> <span class="ruby-identifier">p</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:parent</span>) <span class="ruby-keyword">and</span> <span class="ruby-identifier">p</span> = <span class="ruby-identifier">p</span>.<span class="ruby-identifier">parent</span>
      <span class="ruby-identifier">common_parent</span> = <span class="ruby-identifier">ele1_p</span>.<span class="ruby-identifier">zip</span>(<span class="ruby-identifier">ele2_p</span>).<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">p1</span>, <span class="ruby-identifier">p2</span><span class="ruby-operator">|</span> <span class="ruby-identifier">p1</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">p2</span> }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">last</span>

      <span class="ruby-identifier">child</span> = <span class="ruby-keyword">nil</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">ele1</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">common_parent</span>
        <span class="ruby-identifier">child</span> = <span class="ruby-identifier">ele2</span>
      <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">ele2</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">common_parent</span>
        <span class="ruby-identifier">child</span> = <span class="ruby-identifier">ele1</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">child</span>
        <span class="ruby-identifier">ary</span> = <span class="ruby-identifier">common_parent</span>.<span class="ruby-identifier">children</span>[<span class="ruby-number">0</span><span class="ruby-operator">..</span>(<span class="ruby-identifier">child</span>.<span class="ruby-identifier">node_position</span><span class="ruby-operator">+</span><span class="ruby-identifier">offset</span>)]
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-constant">Elements</span>[*<span class="ruby-identifier">ary</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-c-filter">
            
              <b>filter</b>(nodes, expr, truth = true)
            
            <a href="../../classes/Hpricot/Elements.html#method-c-filter" name="method-c-filter" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-c-filter_source')" id="l_method-c-filter_source">show</a>
                
              </p>
              <div id="method-c-filter_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 270</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">self</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-identifier">nodes</span>, <span class="ruby-identifier">expr</span>, <span class="ruby-identifier">truth</span> = <span class="ruby-keyword">true</span>)
    <span class="ruby-keyword">until</span> <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">empty?</span>
        <span class="ruby-identifier">_</span>, *<span class="ruby-identifier">m</span> = *<span class="ruby-identifier">expr</span>.<span class="ruby-identifier">match</span>(<span class="ruby-node">/^(?:#{ATTR_RE}|#{BRACK_RE}|#{FUNC_RE}|#{CUST_RE}|#{CATCH_RE})/</span>)
        <span class="ruby-keyword">break</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">_</span>

        <span class="ruby-identifier">expr</span> = <span class="ruby-node">$'</span>
        <span class="ruby-identifier">m</span>.<span class="ruby-identifier">compact!</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">m</span>[<span class="ruby-number">0</span>] <span class="ruby-operator">==</span> <span class="ruby-string">'@'</span>
            <span class="ruby-identifier">m</span>[<span class="ruby-number">0</span>] = <span class="ruby-node">&quot;@#{m.slice!(2,1).join}&quot;</span>
        <span class="ruby-keyword">end</span>

        <span class="ruby-keyword">if</span> <span class="ruby-identifier">m</span>[<span class="ruby-number">0</span>] <span class="ruby-operator">==</span> <span class="ruby-string">'['</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">m</span>[<span class="ruby-number">1</span>] <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^\d+$/</span>
            <span class="ruby-identifier">m</span> = [<span class="ruby-string">&quot;:&quot;</span>, <span class="ruby-string">&quot;nth&quot;</span>, <span class="ruby-identifier">m</span>[<span class="ruby-number">1</span>].<span class="ruby-identifier">to_i</span><span class="ruby-operator">-</span><span class="ruby-number">1</span>]
        <span class="ruby-keyword">end</span>

        <span class="ruby-keyword">if</span> <span class="ruby-identifier">m</span>[<span class="ruby-number">0</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;:&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">m</span>[<span class="ruby-number">1</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;not&quot;</span>
            <span class="ruby-identifier">nodes</span>, = <span class="ruby-constant">Elements</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-identifier">nodes</span>, <span class="ruby-identifier">m</span>[<span class="ruby-number">2</span>], <span class="ruby-keyword">false</span>)
        <span class="ruby-keyword">elsif</span> <span class="ruby-node">&quot;#{m[0]}#{m[1]}&quot;</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^(:even|:odd)$/</span>
            <span class="ruby-identifier">new_nodes</span> = []
            <span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">each_with_index</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">n</span>,<span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">new_nodes</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">n</span>) <span class="ruby-keyword">if</span> (<span class="ruby-identifier">i</span> <span class="ruby-operator">%</span> <span class="ruby-number">2</span> <span class="ruby-operator">==</span> (<span class="ruby-identifier">m</span>[<span class="ruby-number">1</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;even&quot;</span> <span class="ruby-operator">?</span> <span class="ruby-number">0</span> <span class="ruby-operator">:</span> <span class="ruby-number">1</span>)) }
            <span class="ruby-identifier">nodes</span> = <span class="ruby-identifier">new_nodes</span>
        <span class="ruby-keyword">elsif</span> <span class="ruby-node">&quot;#{m[0]}#{m[1]}&quot;</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^(:first|:last)$/</span>
            <span class="ruby-identifier">nodes</span> = [<span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">m</span>[<span class="ruby-number">1</span>])]
        <span class="ruby-keyword">else</span>
            <span class="ruby-identifier">meth</span> = <span class="ruby-node">&quot;filter[#{m[0]}#{m[1]}]&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">m</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">empty?</span>
            <span class="ruby-keyword">if</span> <span class="ruby-identifier">meth</span> <span class="ruby-keyword">and</span> <span class="ruby-constant">Traverse</span>.<span class="ruby-identifier">method_defined?</span> <span class="ruby-identifier">meth</span>
                <span class="ruby-identifier">args</span> = <span class="ruby-identifier">m</span>[<span class="ruby-number">2</span><span class="ruby-operator">..</span><span class="ruby-number">-1</span>]
            <span class="ruby-keyword">else</span>
                <span class="ruby-identifier">meth</span> = <span class="ruby-node">&quot;filter[#{m[0]}]&quot;</span>
                <span class="ruby-keyword">if</span> <span class="ruby-constant">Traverse</span>.<span class="ruby-identifier">method_defined?</span> <span class="ruby-identifier">meth</span>
                    <span class="ruby-identifier">args</span> = <span class="ruby-identifier">m</span>[<span class="ruby-number">1</span><span class="ruby-operator">..</span><span class="ruby-number">-1</span>]
                <span class="ruby-keyword">end</span>
            <span class="ruby-keyword">end</span>
            <span class="ruby-identifier">args</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-number">-1</span>
            <span class="ruby-identifier">nodes</span> = <span class="ruby-constant">Elements</span>[*<span class="ruby-identifier">nodes</span>.<span class="ruby-identifier">find_all</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> 
                                  <span class="ruby-identifier">args</span>[<span class="ruby-number">-1</span>] <span class="ruby-operator">+=</span> <span class="ruby-number">1</span>
                                  <span class="ruby-identifier">x</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">meth</span>, *<span class="ruby-identifier">args</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">truth</span> <span class="ruby-operator">:</span> <span class="ruby-operator">!</span><span class="ruby-identifier">truth</span>
                              <span class="ruby-keyword">end</span>]
        <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
    [<span class="ruby-identifier">nodes</span>, <span class="ruby-identifier">expr</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                  
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-25">
            
              <b>%</b>(expr, &amp;blk)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-25" name="method-i-25" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-2F">
            
              <b>/</b>(*expr,&amp;blk)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-2F" name="method-i-2F" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-add_class">
            
              <b>add_class</b>(class_name)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-add_class" name="method-i-add_class" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Adds the class to all matched elements.</p>

<pre>(doc/&quot;p&quot;).add_class(&quot;bacon&quot;)</pre>

<p>Now all paragraphs will have class=“bacon”.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-add_class_source')" id="l_method-i-add_class_source">show</a>
                
              </p>
              <div id="method-i-add_class_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 222</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">add_class</span> <span class="ruby-identifier">class_name</span>
  <span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">el</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">el</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:get_attribute</span>
    <span class="ruby-identifier">classes</span> = <span class="ruby-identifier">el</span>.<span class="ruby-identifier">get_attribute</span>(<span class="ruby-string">'class'</span>).<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot; &quot;</span>)
    <span class="ruby-identifier">el</span>.<span class="ruby-identifier">set_attribute</span>(<span class="ruby-string">'class'</span>, <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">class_name</span>).<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot; &quot;</span>))
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-after">
            
              <b>after</b>(str = nil, &amp;blk)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-after" name="method-i-after" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Just after each element in this list, add some HTML. Pass in an HTML
<code>str</code>, which is turned into <a
href="../Hpricot.html">Hpricot</a> elements.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-after_source')" id="l_method-i-after_source">show</a>
                
              </p>
              <div id="method-i-after_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 150</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">after</span>(<span class="ruby-identifier">str</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">blk</span>)
  <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">insert_after</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">make</span>(<span class="ruby-identifier">str</span>, &amp;<span class="ruby-identifier">blk</span>), <span class="ruby-identifier">x</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-append">
            
              <b>append</b>(str = nil, &amp;blk)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-append" name="method-i-append" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Add to the end of the contents inside each element in this list. Pass in an
HTML <code>str</code>, which is turned into <a
href="../Hpricot.html">Hpricot</a> elements.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-append_source')" id="l_method-i-append_source">show</a>
                
              </p>
              <div id="method-i-append_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 132</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">append</span>(<span class="ruby-identifier">str</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">blk</span>)
  <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">html</span>(<span class="ruby-identifier">x</span>.<span class="ruby-identifier">children</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">make</span>(<span class="ruby-identifier">str</span>, &amp;<span class="ruby-identifier">blk</span>)) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-at">
            
              <b>at</b>(expr, &amp;blk)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-at" name="method-i-at" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Searches this list for the first element (or child of these elements)
matching the CSS or XPath expression <code>expr</code>.  Root is assumed to
be the element scanned.</p>

<p>See <a href="Traverse.html#method-i-at">Hpricot::Traverse#at</a> for more.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Elements.html#method-i-25">%</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-at_source')" id="l_method-i-at_source">show</a>
                
              </p>
              <div id="method-i-at_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 67</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">at</span>(<span class="ruby-identifier">expr</span>, &amp;<span class="ruby-identifier">blk</span>)
  <span class="ruby-identifier">search</span>(<span class="ruby-identifier">expr</span>, &amp;<span class="ruby-identifier">blk</span>).<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-attr">
            
              <b>attr</b>(key, value = nil, &amp;blk)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-attr" name="method-i-attr" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Gets and sets attributes on all matched elements.</p>

<p>Pass in a <code>key</code> on its own and this method will return the
string value assigned to that attribute for the first elements.  Or
<code>nil</code> if the  attribute isn’t found.</p>

<pre class="ruby"><span class="ruby-identifier">doc</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">&quot;a&quot;</span>).<span class="ruby-identifier">attr</span>(<span class="ruby-string">&quot;href&quot;</span>)
  <span class="ruby-comment">#=&gt; &quot;http://hacketyhack.net/&quot;</span>
</pre>

<p>Or, pass in a <code>key</code> and <code>value</code>.  This will set an
attribute for all matched elements.</p>

<pre class="ruby"><span class="ruby-identifier">doc</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">&quot;p&quot;</span>).<span class="ruby-identifier">attr</span>(<span class="ruby-string">&quot;class&quot;</span>, <span class="ruby-string">&quot;basic&quot;</span>)
</pre>

<p>You may also use a <a href="../Hash.html">Hash</a> to set a series of
attributes:</p>

<pre class="ruby">(<span class="ruby-identifier">doc</span><span class="ruby-operator">/</span><span class="ruby-string">&quot;a&quot;</span>).<span class="ruby-identifier">attr</span>(:<span class="ruby-keyword">class</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;basic&quot;</span>, :<span class="ruby-identifier">href</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;http://hackety.org/&quot;</span>)
</pre>

<p>Lastly, a block can be used to rewrite an attribute based on the element it
belongs to.  The block will pass in an element.  Return from the block the
new value of the attribute.</p>

<pre class="ruby"><span class="ruby-identifier">records</span>.<span class="ruby-identifier">attr</span>(<span class="ruby-string">&quot;href&quot;</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>[<span class="ruby-string">'href'</span>] <span class="ruby-operator">+</span> <span class="ruby-node">&quot;#top&quot;</span> }
</pre>

<p>This example adds a <code>#top</code> anchor to each link.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Elements.html#method-i-set">set</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-attr_source')" id="l_method-i-attr_source">show</a>
                
              </p>
              <div id="method-i-attr_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 201</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">attr</span> <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">blk</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">blk</span>
    <span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">el</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">el</span>.<span class="ruby-identifier">set_attribute</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">blk</span>[<span class="ruby-identifier">el</span>])
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>      
  <span class="ruby-keyword">end</span>    
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Hash</span>
    <span class="ruby-identifier">key</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">attr</span>(<span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span>) }
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>[<span class="ruby-number">0</span>].<span class="ruby-identifier">get_attribute</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-before">
            
              <b>before</b>(str = nil, &amp;blk)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-before" name="method-i-before" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Add some HTML just previous to each element in this list. Pass in an HTML
<code>str</code>, which is turned into <a
href="../Hpricot.html">Hpricot</a> elements.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-before_source')" id="l_method-i-before_source">show</a>
                
              </p>
              <div id="method-i-before_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 144</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">before</span>(<span class="ruby-identifier">str</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">blk</span>)
  <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">insert_before</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">make</span>(<span class="ruby-identifier">str</span>, &amp;<span class="ruby-identifier">blk</span>), <span class="ruby-identifier">x</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-empty">
            
              <b>empty</b>()
            
            <a href="../../classes/Hpricot/Elements.html#method-i-empty" name="method-i-empty" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Empty the elements in this list, by removing their insides.</p>

<pre class="ruby"><span class="ruby-identifier">doc</span> = <span class="ruby-constant">Hpricot</span>(<span class="ruby-string">&quot;&lt;p&gt; We have &lt;i&gt;so much&lt;/i&gt; to say.&lt;/p&gt;&quot;</span>)
<span class="ruby-identifier">doc</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">&quot;i&quot;</span>).<span class="ruby-identifier">empty</span>
<span class="ruby-identifier">doc</span>.<span class="ruby-identifier">to_html</span>
  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;&lt;p&gt; We have &lt;i&gt;&lt;/i&gt; to say.&lt;/p&gt;&quot;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-empty_source')" id="l_method-i-empty_source">show</a>
                
              </p>
              <div id="method-i-empty_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 126</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">empty</span>
  <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">inner_html</span> = <span class="ruby-keyword">nil</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-filter">
            
              <b>filter</b>(expr)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-filter" name="method-i-filter" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-filter_source')" id="l_method-i-filter_source">show</a>
                
              </p>
              <div id="method-i-filter_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 347</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">filter</span>(<span class="ruby-identifier">expr</span>)
    <span class="ruby-identifier">nodes</span>, = <span class="ruby-constant">Elements</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">expr</span>)
    <span class="ruby-identifier">nodes</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-html">
            
              <b>html</b>(*string)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-html" name="method-i-html" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-html-3D">
            
              <b>html=</b>(string)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-html-3D" name="method-i-html-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-innerHTML">
            
              <b>innerHTML</b>(*string)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-innerHTML" name="method-i-innerHTML" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-innerHTML-3D">
            
              <b>innerHTML=</b>(string)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-innerHTML-3D" name="method-i-innerHTML-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-inner_html">
            
              <b>inner_html</b>(*string)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-inner_html" name="method-i-inner_html" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns an HTML fragment built of the contents of each element in this
list.</p>

<p>If a HTML <code>string</code> is supplied, this method acts like <a
href="Elements.html#method-i-inner_html">#inner_html</a>=.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Elements.html#method-i-html">html</a>, <a href="Elements.html#method-i-innerHTML">innerHTML</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-inner_html_source')" id="l_method-i-inner_html_source">show</a>
                
              </p>
              <div id="method-i-inner_html_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 82</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">inner_html</span>(*<span class="ruby-identifier">string</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">string</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">inner_html</span> }.<span class="ruby-identifier">join</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">x</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">inner_html</span> = <span class="ruby-identifier">string</span>.<span class="ruby-identifier">pop</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">x</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-inner_html-3D">
            
              <b>inner_html=</b>(string)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-inner_html-3D" name="method-i-inner_html-3D" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Replaces the contents of each element in this list.  Supply an HTML
<code>string</code>, which is loaded into <a
href="../Hpricot.html">Hpricot</a> objects and inserted into every element
in this list.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Elements.html#method-i-html-3D">html=</a>, <a href="Elements.html#method-i-innerHTML-3D">innerHTML=</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-inner_html-3D_source')" id="l_method-i-inner_html-3D_source">show</a>
                
              </p>
              <div id="method-i-inner_html-3D_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 95</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">inner_html=</span>(<span class="ruby-identifier">string</span>)
  <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">inner_html</span> = <span class="ruby-identifier">string</span> }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-inner_text">
            
              <b>inner_text</b>()
            
            <a href="../../classes/Hpricot/Elements.html#method-i-inner_text" name="method-i-inner_text" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Returns an string containing the text contents of each element in this
list. All HTML tags are removed.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Elements.html#method-i-text">text</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-inner_text_source')" id="l_method-i-inner_text_source">show</a>
                
              </p>
              <div id="method-i-inner_text_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 103</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">inner_text</span>
  <span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">inner_text</span> }.<span class="ruby-identifier">join</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-not">
            
              <b>not</b>(expr)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-not" name="method-i-not" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-not_source')" id="l_method-i-not_source">show</a>
                
              </p>
              <div id="method-i-not_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 352</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">not</span>(<span class="ruby-identifier">expr</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">expr</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Traverse</span>
        <span class="ruby-identifier">nodes</span> = <span class="ruby-keyword">self</span> <span class="ruby-operator">-</span> [<span class="ruby-identifier">expr</span>]
    <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">nodes</span>, = <span class="ruby-constant">Elements</span>.<span class="ruby-identifier">filter</span>(<span class="ruby-keyword">self</span>, <span class="ruby-identifier">expr</span>, <span class="ruby-keyword">false</span>)
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">nodes</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-prepend">
            
              <b>prepend</b>(str = nil, &amp;blk)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-prepend" name="method-i-prepend" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Add to the start of the contents inside each element in this list. Pass in
an HTML <code>str</code>, which is turned into <a
href="../Hpricot.html">Hpricot</a> elements.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-prepend_source')" id="l_method-i-prepend_source">show</a>
                
              </p>
              <div id="method-i-prepend_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 138</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">prepend</span>(<span class="ruby-identifier">str</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">blk</span>)
  <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">html</span>(<span class="ruby-identifier">x</span>.<span class="ruby-identifier">make</span>(<span class="ruby-identifier">str</span>, &amp;<span class="ruby-identifier">blk</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">children</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-remove">
            
              <b>remove</b>()
            
            <a href="../../classes/Hpricot/Elements.html#method-i-remove" name="method-i-remove" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Remove all elements in this list from the document which contains them.</p>

<pre class="ruby"><span class="ruby-identifier">doc</span> = <span class="ruby-constant">Hpricot</span>(<span class="ruby-string">&quot;&lt;html&gt;Remove this: &lt;b&gt;here&lt;/b&gt;&lt;/html&gt;&quot;</span>)
<span class="ruby-identifier">doc</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">&quot;b&quot;</span>).<span class="ruby-identifier">remove</span>
<span class="ruby-identifier">doc</span>.<span class="ruby-identifier">to_html</span>
  =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;&lt;html&gt;Remove this: &lt;/html&gt;&quot;</span>
</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-remove_source')" id="l_method-i-remove_source">show</a>
                
              </p>
              <div id="method-i-remove_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 115</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">remove</span>
  <span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">x</span>) }
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-remove_attr">
            
              <b>remove_attr</b>(name)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-remove_attr" name="method-i-remove_attr" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Remove an attribute from each of the matched elements.</p>

<pre>(doc/&quot;input&quot;).remove_attr(&quot;disabled&quot;)</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-remove_attr_source')" id="l_method-i-remove_attr_source">show</a>
                
              </p>
              <div id="method-i-remove_attr_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 235</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">remove_attr</span> <span class="ruby-identifier">name</span>
  <span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">el</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">el</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:remove_attribute</span>
    <span class="ruby-identifier">el</span>.<span class="ruby-identifier">remove_attribute</span>(<span class="ruby-identifier">name</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>      
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-remove_class">
            
              <b>remove_class</b>(name = nil)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-remove_class" name="method-i-remove_class" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Removes a class from all matched elements.</p>

<pre>(doc/&quot;span&quot;).remove_class(&quot;lightgrey&quot;)</pre>

<p>Or, to remove all classes:</p>

<pre>(doc/&quot;span&quot;).remove_class</pre>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-remove_class_source')" id="l_method-i-remove_class_source">show</a>
                
              </p>
              <div id="method-i-remove_class_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 251</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">remove_class</span> <span class="ruby-identifier">name</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">el</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">el</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:get_attribute</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">name</span>
      <span class="ruby-identifier">classes</span> = <span class="ruby-identifier">el</span>.<span class="ruby-identifier">get_attribute</span>(<span class="ruby-string">'class'</span>).<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot; &quot;</span>)
      <span class="ruby-identifier">el</span>.<span class="ruby-identifier">set_attribute</span>(<span class="ruby-string">'class'</span>, (<span class="ruby-identifier">classes</span> <span class="ruby-operator">-</span> [<span class="ruby-identifier">name</span>]).<span class="ruby-identifier">uniq</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot; &quot;</span>))
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">el</span>.<span class="ruby-identifier">remove_attribute</span>(<span class="ruby-string">&quot;class&quot;</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>      
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-search">
            
              <b>search</b>(*expr,&amp;blk)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-search" name="method-i-search" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Searches this list for any elements (or children of these elements)
matching the CSS or XPath expression <code>expr</code>.  Root is assumed to
be the element scanned.</p>

<p>See <a href="Traverse.html#method-i-search">Hpricot::Traverse#search</a>
for more.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Elements.html#method-i-2F">/</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-search_source')" id="l_method-i-search_source">show</a>
                
              </p>
              <div id="method-i-search_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 58</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">search</span>(*<span class="ruby-identifier">expr</span>,&amp;<span class="ruby-identifier">blk</span>)
  <span class="ruby-constant">Elements</span>[*<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">search</span>(*<span class="ruby-identifier">expr</span>,&amp;<span class="ruby-identifier">blk</span>) }.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-set">
            
              <b>set</b>(key, value = nil, &amp;blk)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-set" name="method-i-set" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-text">
            
              <b>text</b>()
            
            <a href="../../classes/Hpricot/Elements.html#method-i-text" name="method-i-text" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_html">
            
              <b>to_html</b>()
            
            <a href="../../classes/Hpricot/Elements.html#method-i-to_html" name="method-i-to_html" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Convert this group of elements into a complete HTML fragment, returned as a
string.</p>
            </div>
          
          
          
            <div class="aka">
              Also aliased as: <a href="Elements.html#method-i-to_s">to_s</a>
            </div>
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-to_html_source')" id="l_method-i-to_html_source">show</a>
                
              </p>
              <div id="method-i-to_html_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 74</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">to_html</span>
  <span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">output</span>(<span class="ruby-string">&quot;&quot;</span>) }.<span class="ruby-identifier">join</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-to_s">
            
              <b>to_s</b>()
            
            <a href="../../classes/Hpricot/Elements.html#method-i-to_s" name="method-i-to_s" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              
            </div>
          
          
          
          
          
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-wrap">
            
              <b>wrap</b>(str = nil, &amp;blk)
            
            <a href="../../classes/Hpricot/Elements.html#method-i-wrap" name="method-i-wrap" class="permalink">Link</a>
          </div>
          
          
            <div class="description">
              <p>Wraps each element in the list inside the element created by HTML
<code>str</code>.  If more than one element is found in the string, <a
href="../Hpricot.html">Hpricot</a> locates the deepest spot inside the
first element.</p>

<pre class="ruby"><span class="ruby-identifier">doc</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">&quot;a[@href]&quot;</span>).
    <span class="ruby-identifier">wrap</span>(<span class="ruby-string">%Q{&lt;div class=&quot;link&quot;&gt;&lt;div class=&quot;link_inner&quot;&gt;&lt;/div&gt;&lt;/div&gt;}</span>)
</pre>

<p>This code wraps every link on the page inside a <code>div.link</code> and a
<code>div.link_inner</code> nest.</p>
            </div>
          
          
          
          
          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source: 
                <a href="javascript:toggleSource('method-i-wrap_source')" id="l_method-i-wrap_source">show</a>
                
              </p>
              <div id="method-i-wrap_source" class="dyn-source">
                <pre><span class="ruby-comment"># File req/hpricot/lib/hpricot/elements.rb, line 162</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword ruby-title">wrap</span>(<span class="ruby-identifier">str</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">blk</span>)
  <span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">wrap</span> = <span class="ruby-identifier">x</span>.<span class="ruby-identifier">make</span>(<span class="ruby-identifier">str</span>, &amp;<span class="ruby-identifier">blk</span>)
    <span class="ruby-identifier">nest</span> = <span class="ruby-identifier">wrap</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">w</span><span class="ruby-operator">|</span> <span class="ruby-identifier">w</span>.<span class="ruby-identifier">respond_to?</span> <span class="ruby-value">:children</span> }
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">nest</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;No wrapping element found.&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">x</span>.<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">replace_child</span>(<span class="ruby-identifier">x</span>, <span class="ruby-identifier">wrap</span>)
    <span class="ruby-identifier">nest</span> = <span class="ruby-identifier">nest</span>.<span class="ruby-identifier">children</span>.<span class="ruby-identifier">first</span> <span class="ruby-keyword">until</span> <span class="ruby-identifier">nest</span>.<span class="ruby-identifier">empty?</span>
    <span class="ruby-identifier">nest</span>.<span class="ruby-identifier">html</span>([<span class="ruby-identifier">x</span>])
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
                    </div>

    </div>
  </body>
</html>    