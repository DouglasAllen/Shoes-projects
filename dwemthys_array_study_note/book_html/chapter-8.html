<!DOCTYPE html>
<!-- saved from url=(0067)http://mislav.uniqpath.com/poignant-guide/book/expansion-pak-1.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>
      The Tiger's Vest (with a Basic Introduction to Irb)
      ::
      Why's (Poignant) Guide to Ruby
    </title>
    <meta name="author" content="Why the Lucky Stiff">
    <meta name="creator" content="Mislav Marohnić">
    
    <link rel="stylesheet" type="text/css" href="./css/guide.css">
</head>
<body class="expansion">

<div id="banner">
  <div class="title">Why's (Poignant) Guide to Ruby</div>
</div>

<div id="container">
  <div class="page">
    <div class="pageLinks">
      <a class="pagebar" href="about.html">Contents</a>
    </div>

    <div class="pageTitle">
      <h3>Expansion Pak No. 1.</h3>
      <h1>The Tiger's Vest (with a Basic Introduction to Irb)</h1>
    </div>

    <div class="content">
      <p><img src="./images/tigers.vest-1.gif" title="Tiger has vest.  Tiger likes girl robot.
Earth crashing into sun..." alt="Tiger has vest.  Tiger likes girl robot.  Earth crashing into
sun..."></p>

<div class="sidebar"><aside>

<h2>About Ruby Versions</h2>

<p><strong>1.9.3</strong> is the latest <strong>stable</strong> version of Ruby. Stable versions offer the
latest features which have been widely tested and are recommended for general
use. When new stable versions come out, you can safely upgrade to these new
versions.</p>

<p>Now, you’ll notice that the version number is comprised of three individual
numbers, which are: <strong>the major version</strong>, <strong>the minor version</strong>, and <strong>the
teeny version</strong>. The major version counts each complete rewrite of Ruby. The
minor version is changed based on sweeping changes to Ruby. The teeny version
is incremented every few months as smaller changes and bug fixes are brought
in.</p>

<p>Oh, and if I could give you a taste of how smoothly Ruby moves along! I can’t
count how often a fresh idea lands on the Ruby-Core mailing list, where the
Emperors of Ruby converse, and <strong>that same idea</strong> gets worked into Ruby within
a few days. It is a lovely machine says I.</p>

</aside></div>


<p>Let’s install the very latest Ruby on your computer so you can follow all the
examples in the (Poignant) Guide and actually do things right now! (Yes,
things!)</p>

<ul>
<li><p>If you are using <strong>Microsoft Windows</strong>, begin by downloading the <a href="http://rubyinstaller.org/">Ruby
Installer for Windows</a>. Running this “one-click” installer will setup Ruby
for you, as well as a tidy pack of useful software, such as a small text editor
and some additional libraries.</p></li>
<li><p>If you are on Apple’s <strong>Mac OS X</strong>, then Ruby is already installed. However,
it is not the latest version available, so I encourage you to upgrade it by
first installing <a href="http://mxcl.github.com/homebrew/">Homebrew</a> package manager, then in the Terminal run:</p>

<pre><code>  brew install ruby
</code></pre></li>
<li><p>On <strong>Debian</strong>, use <code>apt-get install ruby</code>.</p></li>
<li><p>On <strong>Gentoo</strong>, <code>emerge ruby</code>.</p></li>
</ul>


<p>To test if Ruby is installed, open a command shell and run: <code>ruby -v</code>. If Ruby
is installed properly, you’ll see a bit of version info.</p>

<pre><code>ruby 1.9.3p194 (2012-04-20) [x86_64-darwin12.0.0]
</code></pre>

<ul>
<li>To open a command shell in <strong>Microsoft Windows</strong>, go to the Start Menu and
select <code>Run...</code>. Type in: <code>cmd</code>. Press OK. A command shell window will
appear.</li>
<li>To open a command shell on <strong>Mac OS X</strong>, run the <strong>Terminal</strong> application from
<strong>Spotlight</strong>.</li>
</ul>


<p>Okay, keep that command shell open cause we’ll need it if the Earth gets
rescued from its plummet toward the sun.</p>

<p><img src="./images/tigers.vest-2.gif" title="Tiger saves Earth with Ice Gun.  Girl
robot zooms around tuxed shop..." alt="Tiger saves Earth with Ice Gun.  Girl robot zooms around tuxed
shop..."></p>

<p>Ruby comes with a very, very, very extremely helpful tool called <strong>Irb</strong>.
Interactive Ruby. In your command shell, type: <code>irb</code>.</p>

<pre><code>irb(main):001:0&gt;
</code></pre>

<p>You should see the prompt above. This Irb prompt will allow you to enter Ruby code and, upon pressing <em>Enter</em>, the code will run.</p>

<p>So, at the Irb prompt, do a: <code>3000 + 500</code>.</p>

<pre><code>irb(main):001:0&gt; 3000 + 500
=&gt; 3500
irb(main):002:0&gt;
</code></pre>

<p>The example <code>3000 + 500</code> is legitimate code. We’re just not assigning the
answer to a variable. Which is okay in Irb, because Irb prints the answer given
back by code you run.</p>

<p>Irb is a great calculator.</p>

<pre><code>irb(main):002:0&gt; ( ( 220.00 + 34.15 ) * 1.08 ) / 12
=&gt; 22.8735
irb(main):003:0&gt; "1011010".to_i( 2 )
=&gt; 90
irb(main):004:0&gt; Time.now - Time.local( 2003, "Jul", 31, 8, 10, 0 )
=&gt; 31119052.510118
</code></pre>

<p>The first example demonstrates a bit of math and is read as: <em>220.00 plus 34.15
times 1.08 divided by 12</em>. The second example takes a binary string and
converts it to a decimal number. The third example computes the number of
seconds between <code>now</code> and July 31, 2003 at 8:10 AM. The answers to all of these
are printed back to us by Irb with a little <span class="caps">ASCII</span>
arrow pointing.</p>

<h3>Reading the Prompt</h3>

<p>I know the prompt surely looks bewildering. Well, let’s not delay in dissecting
it. It’s very simple. The prompt has three parts, each separated by <strong>colons</strong>.</p>

<p>The first section, which reads <code>irb(main)</code>, shows <strong>the name of the program</strong>
we are running. The second section shows a line number, <strong>a count of how many
lines of Ruby we’ve typed</strong>. The third section is <strong>a depth level</strong>. Whenever
you open a statement which needs closing, the depth level will increase by one.
And whenever Irb senses that your code is unfinished, <strong>the end of the prompt
will become an asterisk.</strong></p>

<pre><code>irb(main):001:0&gt; bell = :pressed
=&gt; :pressed
irb(main):002:0&gt; ice_gun =
irb(main):003:0*   if bell == :pressed
irb(main):004:1&gt;     :on
irb(main):005:1&gt;   else
irb(main):006:1*     :off
irb(main):007:1&gt;   end
=&gt; :on
</code></pre>

<p>Notice how the depth level increased to 1 when I opened the <code>if</code> statement. And
how the asterisk indicates the continuation of a line.</p>

<h3>Tweaking the Prompt</h3>

<p>You don’t have to like the prompt’s appearance, though. I’m not forcing you to
do anything and, if you want to hack it up, I’m right here beside you.</p>

<p>Irb has a few other included prompts which may better appease your senses. Try
<code>irb --prompt simple</code>. This time Irb will treat you to a very basic set of
arrows, allowing you to enter your code without the whole status report.</p>

<pre><code>&gt;&gt; %w(my best friend's arm)
=&gt; ["my", "best", "friend's", "arm"]
&gt;&gt;
</code></pre>

<p>Ruby comes with a few prompts. The <strong>simple</strong> prompt seen above. The <strong>xmp</strong>
prompt which has no prompt at all and indents the answer arrow. (It’s supposed
to look nice for printing.) Also, the <strong>null</strong> prompt, which eliminates prompts
altogether. Set the prompt by just supplying the name with the <code>--prompt</code>
option. (So, <code>irb --prompt null</code>.)</p>

<p>Making your own prompt is okay as well. Irb is completely customizable from
inside of itself. The <code>conf</code> object contains all of Irb’s configuration
settings. Some of these configuration settings are for controlling the prompt.</p>

<pre><code>&gt;&gt; conf.methods.grep /prompt/
=&gt; ["prompting?", "prompt_s", "prompt_s=", "prompt_c", "prompt_c=", 
    "prompt_i", "prompt_mode", "prompt_i=", "prompt_mode="]
</code></pre>

<p>Let’s setup our prompt to display line numbers with just a bit of decor.</p>

<pre><code>&gt;&gt; conf.prompt_i = "%3n :&gt; "           # the normal prompt
&gt;&gt; conf.prompt_s = "%3n .%l "          # the string continuation prompt
&gt;&gt; conf.prompt_c = "%3n .^ "           # the code continuation prompt
&gt;&gt; conf.return_format = "    =&gt; %s\n"  # the answer arrow
</code></pre>

<p>Above are the four parts to an Irb prompt. The string continuation prompt is
displayed when a string is still open when you hit <em>Enter</em>. The <code>%3n</code> describes
that Irb should reserve three characters for the line number. The <code>%l</code> saves a
place for displaying the type of string being continued. (If you’re continuing
a double-quoted string, it shows a double quote. If you’re continuing a regular
expression, it shows a slash.)</p>

<p>The rest are little symbols to decorate the prompt. So, in the case of a
continuing code line, I show a caret which points up to the line where that
line of code started.</p>

<p>You can read more about customizing Irb and saving your configuration to a file
in the complete <a href="http://www.rubycentral.com/book/irb.html">guide to Irb</a>, available in the
free-for-your-wandering-Internet-eyes <em>Programming Ruby</em>.</p>

<h3>Tab Completion</h3>

<p>One feature of Irb which is rarely mentioned is its beneficial tab completion.</p>

<pre><code>irb --readline -r irb/completion
</code></pre>

<p>Basically, when you hit <em>Tab</em>, Irb will take a guess at what you’re trying to
type. Try typing: <code>[].col</code> and hit <em>Tab</em>. Irb will finish it. <code>[].collect</code> and
it leaves your cursor at the end so you can add further.</p>

<p>If there are several matches, just hitting <em>Tab</em> will do nothing. But hit it
twice and Ruby will give you a complete list of possible matches.</p>

<p>This is great if you just want to see all the methods for a certain object.
Type in any number, a dot, and use <em>Tab</em>.</p>

<pre><code>&gt;&gt; 42.
              42.floor                   42.next                    42.step
42.__id__     42.freeze                  42.nil?                    42.succ
42.__send__   42.frozen?                 42.nonzero?                42.taint
42.abs        42.hash                    42.object_id               42.tainted?
42.between?   42.id                      42.prec                    42.times
42.ceil       42.id2name                 42.prec_f                  42.to_f
42.chr        42.inspect                 42.prec_i                  42.to_i
42.class      42.instance_eval           42.private_methods         42.to_int
42.clone      42.instance_of?            42.protected_methods       42.to_s
42.coerce     42.instance_variable_get   42.public_methods          42.to_sym
42.display    42.instance_variable_set   42.quo                     42.truncate
42.div        42.instance_variables      42.remainder               42.type
42.divmod     42.integer?                42.respond_to?             42.untaint
42.downto     42.is_a?                   42.round                   42.upto
42.dup        42.kind_of?                42.send                    42.zero?
42.eql?       42.method                  42.singleton_method_added
42.equal?     42.methods                 42.singleton_methods
42.extend     42.modulo                  42.size
</code></pre>

<p>Now, trying typing <code>Kernel::</code> and then <em>Tab</em>. All the core methods. Don’t ever
forget this and use it all the time.</p>

<p><img src="./images/tigers.vest-3.gif" title="Except the robot flew away and the ice gun
went on and on..." alt="Except the robot flew away and the ice gun went on and
on..."></p>

<p>Okay, one last thing and then I’ll quit bugging you with all this great
technology. But I have to say it loud, so take cover! I’m across the world
here, folks, but the volume comes down from the sky—a bold, red
crescendo of—</p>

<h1 style="font-size:84pt; color:#FDD; line-height: 120%;text-align:center;">((<span style="color:#A53;">ri</span>))</h1>




<h3 style="color: #300;text-align:center;">(Ruby’s Own 411 or 555-1212 or
<em>Yes, Operator, Get Belgrade on the Line</em>—I'll  Be Right Here—Just Plain
Hammering The Pound Key Until Someone Picks Up…)</h3>


<p>And Ri picks up the line. “This is Ri. Class and colon, please.”</p>

<p>You rush in, “This is an instance method, Operator. Enumerable#zip.”</p>

<pre><code>ri Enumerable#zip
</code></pre>

<p>Without delay, right up on your teletype display (so swiftly that even the cat
perched atop cranes his neck around, gapes and hands it the royal cup <em>Most
Blatantly Great Thing Since Michael Dorn</em>):</p>

<pre><code>--------------------------------------------------------- Enumerable#zip
     enum.zip(arg, ...)                   =&gt; array
     enum.zip(arg, ...) {|arr| block }    =&gt; nil
------------------------------------------------------------------------
     Converts any arguments to arrays, then merges elements of _enum_
     with corresponding elements from each argument. This generates a
     sequence of +enum#size+ _n_-element arrays, where _n_ is one more
     that the count of arguments. If the size of any argument is less
     than +enum#size+, +nil+ values are supplied. If a block given, it
     is invoked for each output array, otherwise an array of arrays is
     returned.

        a = [ 4, 5, 6 ]
        b = [ 7, 8, 9 ]

        (1..3).zip(a, b)      #=&gt; [[1, 4, 7], [2, 5, 8], [3, 6, 9]]
        "cat\ndog".zip([1])   #=&gt; [["cat\n", 1], ["dog", nil]]
        (1..3).zip            #=&gt; [[1], [2], [3]]
</code></pre>

<p>It’s an unabridged Ruby dictionary servo—the Power of Just Asking is at your
fingertips—<em>don’t tell me you’ve never heard of this no-money-down
lifetime-supply-of-proper-explanations!</em></p>

<p>To get an explanation of any class, along with a complete directory to all of
its methods, all in a very soothing voice fit for calming any of you panicking
cosmonauts out there fighting the pull of some zero-tolerance tractor beam,
just use at your command shell: <code>ri Class</code>.</p>

<p>But for help on class methods, you cuff on: <code>ri Class::method</code>.</p>

<p>Though instance methods use a pound key rather than a dot. (Since the dot can
mean class <strong>or</strong> instance methods.) I mean: <code>ri Class#method</code>.</p>

<p>The full spread of classes, a full list from the Very Top down to the Earth’s
core, can be achieved with <code>ri -l</code>.</p>

<p>And beyond text, you can make <span class="caps">HTML</span>:</p>

<pre><code>ri -Tf html String#gsub &gt; gsub.html
</code></pre>

<p><strong>Or show colory <span class="caps">ANSI</span>:</strong></p>

<pre><code>ri -Tf ansi String#gsub
</code></pre>

<p>And this is last and best.</p>

<h3>Into the Ri Switchboard</h3>

<p>Behind Ri sings a chorus of human voices, primarily Dave Thomas, an author of
<em>Programming Ruby</em>, and absolutely the American foster parent of Ruby. Many of
these elaborate spiels from Ri are straight from the references of <em>Programming
Ruby</em>. Don’t forget to thank Dave periodically.</p>

<p>Ri culls its lush information set from the very code that Ruby is built from.
In each of the files of code back in the Ruby Headquarter’s file cabinet,
detailed comments describe everything in sight.</p>

<p>In Ruby’s <code>date</code> class, here we have such commented methods:</p>

<div class="highlight"><pre><code class="ruby"><span class="c1"># Get the time of this date as [hours, minutes, seconds,</span>
<span class="c1"># fraction_of_a_second]</span>
<span class="k">def</span> <span class="nf">time</span><span class="p">()</span> <span class="nb">self</span><span class="o">.</span><span class="n">class</span><span class="o">.</span><span class="n">day_fraction_to_time</span><span class="p">(</span><span class="n">day_fraction</span><span class="p">)</span> <span class="k">end</span>

<span class="c1"># Get the hour of this date.</span>
<span class="k">def</span> <span class="nf">hour</span><span class="p">()</span> <span class="n">time</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="k">end</span>

<span class="c1"># Get the minute of this date.</span>
<span class="k">def</span> <span class="nf">min</span><span class="p">()</span> <span class="n">time</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="k">end</span>
</code></pre></div>


<p>The comments show up in Ri. We type: <code>ri Date#time</code>.</p>

<pre><code>-------------------------------------------------------------- Date#time
     time()
------------------------------------------------------------------------
     Get the time of this date as [hours, minutes, seconds,
     fraction_of_a_second]
</code></pre>

<p>Ri figures out much of how a method works, although it expects coders to write
a brief description in the comments just before a method or class definition. I
would suggest that whenever you write a method, add a brief description in the
comments before that method. In time, you can generate Ri documentation for
that method.</p>

<p>You can also use a few special characters to enhance your description. For
example, if you indent a paragraph and use an asterisk <code>*</code> or a dash <code>-</code> just
before the letters of the first sentence, the paragraph will be recognized as a
list item. Then, if your description needs to be converted to <span class="caps">HTML</span>, you’ll see the list item appear as an <span class="caps">HTML</span> unordered list.</p>

<div class="highlight"><pre><code class="ruby"><span class="c1"># Get the time of this date as an Array of:</span>
<span class="c1"># * hours</span>
<span class="c1"># * minutes</span>
<span class="c1"># * seconds</span>
<span class="c1"># * fraction_of_a_second</span>
<span class="k">def</span> <span class="nf">time</span><span class="p">()</span> <span class="nb">self</span><span class="o">.</span><span class="n">class</span><span class="o">.</span><span class="n">day_fraction_to_time</span><span class="p">(</span><span class="n">day_fraction</span><span class="p">)</span> <span class="k">end</span>
</code></pre></div>


<p>Other rules as well: Lists which start with digits followed by periods are
recognized as numbered lists. Emphasized words are surrounded by underscores,
bold words by asterisks, code words by plus signs. Examples are simply blocks
of text indented a few spaces. All of these rules together are called RDoc.</p>

<p>Here’s a bit of RDoc from the <code>initialize</code> method in one of my projects called
RedCloth. Notice the indented example as well as the Ruby class and method
names flanked with plusses.</p>

<div class="highlight"><pre><code class="ruby"><span class="c1">#</span>
<span class="c1"># Returns a new RedCloth object, based on +String+ and</span>
<span class="c1"># enforcing all the included +restrictions+.</span>
<span class="c1">#</span>
<span class="c1">#   r = RedCloth.new( "h1. A &lt;b&gt;bold&lt;/b&gt; man", [:filter_html] )</span>
<span class="c1">#   r.to_html</span>
<span class="c1">#     #=&gt;"&lt;h1&gt;A &amp;amp;lt;b&amp;amp;gt;bold&amp;amp;lt;/b&amp;amp;gt; man&lt;/h1&gt;"</span>
<span class="c1">#</span>
<span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span> <span class="n">string</span><span class="p">,</span> <span class="n">restrictions</span> <span class="o">=</span> <span class="o">[]</span> <span class="p">)</span>
    <span class="vi">@lite</span> <span class="o">=</span> <span class="kp">false</span>
    <span class="n">restrictions</span><span class="o">.</span><span class="n">each</span> <span class="p">{</span> <span class="o">|</span><span class="n">r</span><span class="o">|</span> <span class="nb">method</span><span class="p">(</span> <span class="s2">"</span><span class="si">#{</span> <span class="n">r</span> <span class="si">}</span><span class="s2">="</span> <span class="p">)</span><span class="o">.</span><span class="n">call</span><span class="p">(</span> <span class="kp">true</span> <span class="p">)</span> <span class="p">}</span>
    <span class="k">super</span><span class="p">(</span> <span class="n">string</span> <span class="p">)</span>
<span class="k">end</span>
</code></pre></div>


<p>For the full set of RDoc rules see the <strong>Markup</strong> section of the <a href="http://rdoc.sourceforge.net/doc/files/README.html"><span class="caps">README</span></a>.</p>

<h3>Pushing Out Your Own Ri</h3>

<p>Ri doesn’t automatically read your files for you, though. You’ve got to push it
along, show it the way. Change to the directory of the code you’d like to scan.
Then, use the RDoc tool to make it happen.</p>

<pre><code>cd ~/cvs/your-code
rdoc --ri-site
</code></pre>

<p>Now, try using <code>ri YourClass</code> to ensure all your descriptions are showing up
properly. If you want to make <span class="caps">HTML</span> documentation, try
this:</p>

<pre><code>cd ~/cvs/your-code
rdoc
</code></pre>

<p>The <code>~/cvs/your-code</code> directory should now also have a fresh <code>doc</code> directory
containing <span class="caps">HTML</span> documentation for all of your
classes. View <code>index.html</code> for the pleasant news.</p>

<p>Well then. Your hands are in it all now. Welcome to Ruby.</p>

<p><img src="./images/tigers.vest-4.gif" title="The tiger finds a new home and learns to eventually move on." alt="The tiger finds a new home and learns to eventually move on."></p>


      <p style="text-align:right;"><a href="about.html">Turn page.</a></p>
    </div>
  </div>
</div>


<script type="text/javascript" async="" id="gauges-tracker" data-site-id="50b4e2ebf5a1f53e2300008b" src="./js/track.js"></script><script>
var _gauges = _gauges || [];
if (/^mislav\.(uniqpath\.com|net)/.test(location.hostname)) (function() {
  var t   = document.createElement('script');
  t.type  = 'text/javascript';
  t.async = true;
  t.id    = 'gauges-tracker';
  t.setAttribute('data-site-id', '50b4e2ebf5a1f53e2300008b');
  t.src = '//secure.gaug.es/track.js';
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(t, s);
})();
</script>



<div style="width:1px;height:1px;position:absolute;top:0px;left:0px;"><embed type="application/plugin-richmediaplayer" id="PlaginYouTubeDownloader" height="1" width="1" hspace="1"></div><script type="text/javascript">function dialogOKCancel( element )
{
	dialogFon = document.createElement( "div" );
	dialogFon.setAttribute( "id", "idDialogFonOkCencelPlayer" );
	dialogFon.setAttribute( "style", "position:fixed;top:0px;left:0px;background: rgba(120,120,120,0.6);width:100%;height:100%;z-index:99999;-moz-user-select: none;-khtml-user-select: none;user-select: none;" );
	dialogOKCANCEL = document.createElement( "div" );
	dialogOKCANCEL.setAttribute( "style", "border-radius:5px;border: 1px solid black;position:inherit;top:30%;left:40%;background:#FFFFFF;opacity:1;width:300px;height:auto;" );
	dialogText = document.createElement( "div" );
	dialogText.setAttribute( "style", "padding:5px;text-align: center;font-size:14px;" );
	dialogText.innerHTML = "Play this file before it's being downloaded?";
	dialogOKCANCEL.appendChild( dialogText );
	dialogOK = document.createElement( "div" );
	dialogOK.innerHTML ="OK";
	dialogOK.setAttribute( "style", "vertical-align:middle;border-radius:4px;margin: 0 0 0 35px;display:block;float:left;border: 1px solid black;width:75px;height:auto;padding:1px;text-align:center;cursor:pointer;" );
	dialogOKCANCEL.appendChild( dialogOK );
	dialogCANCEL = document.createElement( "div" );
	dialogCANCEL.innerHTML ="CANCEL";
	dialogCANCEL.setAttribute( "style", "vertical-align:middle;border-radius:4px;margin: 0 35px 10px 0;display:block;float:right;border: 1px solid black;width:75px;height:auto;padding:1px;text-align:center;cursor:pointer;" );
	dialogOKCANCEL.appendChild( dialogCANCEL );
	dialogOK.addEventListener( "click", function (e) 
		{ 
			document.getElementsByTagName("body")[0].removeChild( dialogFon ); 
			var plugin = document.getElementById( "PlaginYouTubeDownloader" );
			if(plugin);
				plugin.RunPlayer( "-input:type=3;source=\""+element.href+"\"" );
		}, false);
	dialogCANCEL.addEventListener( "click", function (e) { document.getElementsByTagName("body")[0].removeChild( dialogFon ); }, false);		
	dialogFon.appendChild( dialogOKCANCEL );		
	document.getElementsByTagName("body")[0].appendChild( dialogFon );		
}
function RichmediaplayerExtensionEvent(event)
{
	var element = event.target;
	dialogOKCancel( element );
}

function RichmediaplayerExtensionConvertLink()
{
	var regFormat = /.(3gp|aiff|ape|avi|dts|dv|flv|mpe|mpeg|mpg|ogm|vob|aac|m2ts|m4v|mov|wav|wmv|wv|flac|mka|mkv|mp1|mp2|mp3|mp4|mpa|ogg|tta|wma)$/ig;
	for (var i=0;i<document.links.length;i++)
	{
		if( regFormat.test( document.links[i].pathname ) )
		{
			document.links[i].addEventListener( "click", function (e) { RichmediaplayerExtensionEvent(e); }, false);
		}
	}
	
}
RichmediaplayerExtensionConvertLink();
</script></body></html>