<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html><head>


  <title>Hello World in Ruby-GNOME2</title>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <meta name="GENERATOR" content="Quanta Plus">
  <link rel="stylesheet" type="text/css" href="site-style.css">
</head><body>
<h1>10.13. File Selections</h1>

<p>The file selection widget is a quick way to display a File dialog box. It comes complete with Ok, Cancel, and Help 
buttons, a great way to cut down on programming time.</p>

<p>To create a new file selection box, use:</p>

<pre>Gtk::FileSelection.new( title )</pre>

<p>To set the filename, for example to bring up a specific directory or give a default filename, use these methods:</p>

<pre>Gtk::FileSelection#set_filename( filename )
Gtk::FileSelection#filename=( filename )
</pre>

<p>To grab the text that the user has has entered or clicked on, use this method:</p>

<pre>Gtk::FileSelection#filename</pre>

<p>There are also widgets you can access within the file selection widget by using these methods:</p>

<pre>Gtk::FileSelection#dir_list
Gtk::FileSelection#file_list
Gtk::FileSelection#selection_entry
Gtk::FileSelection#selection_text
Gtk::FileSelection#main_vbox
Gtk::FileSelection#ok_button
Gtk::FileSelection#cancel_button
Gtk::FileSelection#help_button
</pre>

<p>Most likely you will want to use th ok_button, cancel_button, and help_button in signaling thier use.</p>

<p>Included here is an example ported to Ruby-GNOME2 from the GTK C tutorial. As you will see, there is nothing much to
creating a file selection widget. While this example the help button appears on the screen, it does nothing as there is not
signal attached to it.</p>

<img src="images/file_selection.png" border="0" width="452" height="385">

<pre>require 'gtk2'

def file_ok_sel( w, fs )
   puts fs.filename
end

Gtk.init

# Create a new fileselection widget
filew = Gtk::FileSelection.new( "File Selection" )

filew.signal_connect( "destroy" ) { Gtk.main_quit }

# Connect the ok_button to file_ok_sel method
filew.ok_button.signal_connect( "clicked" ) { |w| file_ok_sel( w, filew ) }

# Connect the cancel_button to destroy the widget
filew.cancel_button.signal_connect( "clicked" ) { Gtk.main_quit }

# Lets set the filename, as if this were a save dialog, and we are giving
# a default filename
filew.filename=( "penguin.png" )

filew.show
Gtk.main
</pre>

<hr>
<table>
	<tbody><tr>
		<td align="left"><a href="10.12.htm">Prev</a></td>
		<td align="right"><a href="11.0.htm">Next</a></td>
	</tr>
</tbody></table>
</body></html>
